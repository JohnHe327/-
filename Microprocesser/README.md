# 实验环境

* MASM 6.0 + DOSBOX

* EMU8086

    * 不持支x87协处理器命令，无法完成浮点数实验

# 实验内容

1. 输入输出实验

    * 实验目的：

        1. 掌握汇编程序的基本编写方式

        2. 学习汇编语言的基础I/O操作，为后续实验做准备

    * 实验内容

        1. 创建一个名为`Input1.txt`的文件

        2. 使用键盘输入一个包含大写字母、小写字母和数字的字符串，并将这个字符串写入文件中
        
        3. 读取这个文件，将小写字母转换成大写形式，大写字母和数字保持不变，最后整个字符串输出到屏幕，并写入`Output1.txt`文件

2. 分支程序设计实验

    * 实验目的：

        1. 掌握汇编语言中比较和跳转命令

        2. 掌握汇编语言中循环命令的使用

    * 实验内容：

        1. 键盘输入一个数字 $N$ $(0 < N < 10)$

        2. 把 $1$ ~ $N^2$ 的自然数按行顺序存入二维数组

        3. 在屏幕上打印出该数组的左下半三角

        * 例：$N = 6$ 时，应打印成类似下图形式：
            > 1  
            > 7 8  
            > 13 14 15  
            > 19 20 21 22  
            > 25 26 27 28 29  
            > 31 32 33 34 35 36  

3. 排序程序设计实验

    * 实验目的：
        
        1. 综合运用汇编中的I/O、比较、跳转、循环等指令
        
        2. 掌握用汇编语言实现数字排序程序的方法
    
    * 实验内容：
        
        1. 从名为`Input3.txt`的文本文件中读取一组数字
        
        2. 将这些数字从小到大进行排序
        
        3. 将这些数字按照排序后的次序打印在屏幕上
        
        4. 数字范围 $[-1024,1023]$ ，排序数字不超过 $100$ 个
        
        5. 排序算法不限

4. 子程序设计实验

    * 实验目的：

        1. 掌握汇编语言中子程序的编写与调用方法
        
        2. 理解汇编语言中的递归调用
    
    * 实验内容：
        
        1. 编写一个程序，使用子程序调用的方式计算 $n!$ 

        2. $n$ 的值通过键盘输入

        3. $n$ 的范围 $(0,20)$
        
        4. 程序设计中请注意运算结果的范围

5. 整数加减运算实验

    * 实验目的：
        
        1. 掌握汇编语言的整数加减运算
        
        2. 掌握汇编语言的堆栈操作
    
    * 实验内容：
        
        1. 编程计算任一整数加减运算表达式
        
        2. 表达式从键盘输入，可带括号
        
        3. 表达式的长度不超过 $1024$个字节
        
        4. 表达式示例: $15-(4-2)$

6. 浮点运算实验

    * 实验目的：
        
        1. 理解浮点数的存储和运算原理

        2. 掌握x87算术协处理器的运算指令
        
        3. 掌握汇编语言中浮点数与字符串的转换方法
    
    * 实验内容：
        
        1. 从键盘输入 $x$ 和 $a_1$、$a_2$、$a_3$
        
        2. 计算 $a_1 \sqrt{x} + a_2 \log_2x + a_3 \sin{x}$ 并将结果打印到屏幕
        
        3. 当 $x<0$ 时，输出信息"Error: x<0!"

    * 注:因为EMU8086不支持FPU指令，所以此实验无法在EMU8086中完成

# 实验教程

1. 在非中文目录下解压`/MASM`

2. 安装DOSBOX，运行`%DOSBOX%/DOSBox 0.74 Options.bat`

3. 找到`[autoexec]`，添加行`MOUNT C %MASM%`，保存后退出

4. 编写`.asm`文件，放入%MASM%

5. 启动DOSBOX，输入挂载的盘符号，这里是`C:`

6. 输入`masm`运行MASM，输入要编译的`.asm`文件名（不加后缀），按提示完成编译，生成`.obj`文件

7. 输入`link`运行LINK，输入`.obj`文件名（不加后缀），按提示完成链接

8. （可选）运行debug进行调试

9. 输入`.exe`文件名（不加后缀）执行文件
10. 